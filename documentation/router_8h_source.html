<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.3.1"/>
<title>Adaptagrams: libavoid/router.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">Adaptagrams
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.3.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_20f5eb0680cc3e21ff9fb26a3a2337a6.html">libavoid</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">router.h</div>  </div>
</div><!--header-->
<div class="contents">
<a href="router_8h.html">Go to the documentation of this file.</a><div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment">/*</span></div>
<div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;<span class="comment"> * vim: ts=4 sw=4 et tw=0 wm=0</span></div>
<div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="comment"> * libavoid - Fast, Incremental, Object-avoiding Line Router</span></div>
<div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="comment"> * Copyright (C) 2004-2011  Monash University</span></div>
<div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="comment"> * This library is free software; you can redistribute it and/or</span></div>
<div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;<span class="comment"> * modify it under the terms of the GNU Lesser General Public</span></div>
<div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="comment"> * License as published by the Free Software Foundation; either</span></div>
<div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="comment"> * version 2.1 of the License, or (at your option) any later version.</span></div>
<div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;<span class="comment"> * See the file LICENSE.LGPL distributed with the library.</span></div>
<div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="comment"> * Licensees holding a valid commercial license may use this file in</span></div>
<div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;<span class="comment"> * accordance with the commercial license agreement provided with the </span></div>
<div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="comment"> * library.</span></div>
<div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;<span class="comment"> * This library is distributed in the hope that it will be useful,</span></div>
<div class="line"><a name="l00019"></a><span class="lineno">   19</span>&#160;<span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span></div>
<div class="line"><a name="l00020"></a><span class="lineno">   20</span>&#160;<span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  </span></div>
<div class="line"><a name="l00021"></a><span class="lineno">   21</span>&#160;<span class="comment"> *</span></div>
<div class="line"><a name="l00022"></a><span class="lineno">   22</span>&#160;<span class="comment"> * Author(s):   Michael Wybrow &lt;mjwybrow@users.sourceforge.net&gt;</span></div>
<div class="line"><a name="l00023"></a><span class="lineno">   23</span>&#160;<span class="comment">*/</span></div>
<div class="line"><a name="l00024"></a><span class="lineno">   24</span>&#160;</div>
<div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div>
<div class="line"><a name="l00028"></a><span class="lineno">   28</span>&#160;</div>
<div class="line"><a name="l00029"></a><span class="lineno">   29</span>&#160;<span class="preprocessor">#ifndef AVOID_ROUTER_H</span></div>
<div class="line"><a name="l00030"></a><span class="lineno">   30</span>&#160;<span class="preprocessor"></span><span class="preprocessor">#define AVOID_ROUTER_H</span></div>
<div class="line"><a name="l00031"></a><span class="lineno">   31</span>&#160;<span class="preprocessor"></span></div>
<div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;<span class="preprocessor">#include &lt;ctime&gt;</span></div>
<div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;<span class="preprocessor">#include &lt;list&gt;</span></div>
<div class="line"><a name="l00034"></a><span class="lineno">   34</span>&#160;<span class="preprocessor">#include &lt;utility&gt;</span></div>
<div class="line"><a name="l00035"></a><span class="lineno">   35</span>&#160;<span class="preprocessor">#include &lt;string&gt;</span></div>
<div class="line"><a name="l00036"></a><span class="lineno">   36</span>&#160;</div>
<div class="line"><a name="l00037"></a><span class="lineno">   37</span>&#160;<span class="preprocessor">#include &quot;libavoid/dllexport.h&quot;</span></div>
<div class="line"><a name="l00038"></a><span class="lineno">   38</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="connector_8h.html" title="Contains the interface for the ConnRef class.">libavoid/connector.h</a>&quot;</span></div>
<div class="line"><a name="l00039"></a><span class="lineno">   39</span>&#160;<span class="preprocessor">#include &quot;libavoid/vertices.h&quot;</span></div>
<div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;<span class="preprocessor">#include &quot;libavoid/graph.h&quot;</span></div>
<div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;<span class="preprocessor">#include &quot;libavoid/timer.h&quot;</span></div>
<div class="line"><a name="l00042"></a><span class="lineno">   42</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="hyperedge_8h.html" title="Contains the interface for the HyperedgeRerouter class.">libavoid/hyperedge.h</a>&quot;</span></div>
<div class="line"><a name="l00043"></a><span class="lineno">   43</span>&#160;<span class="preprocessor">#include &quot;libavoid/actioninfo.h&quot;</span></div>
<div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;</div>
<div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div>
<div class="line"><a name="l00046"></a><span class="lineno">   46</span>&#160;<span class="keyword">namespace </span>Avoid {</div>
<div class="line"><a name="l00047"></a><span class="lineno">   47</span>&#160;</div>
<div class="line"><a name="l00048"></a><span class="lineno">   48</span>&#160;<span class="comment">// LineReps: Used for highlighting certain areas in debugging output.</span></div>
<div class="line"><a name="l00049"></a><span class="lineno">   49</span>&#160;<span class="keyword">struct </span>LineRep</div>
<div class="line"><a name="l00050"></a><span class="lineno">   50</span>&#160;{</div>
<div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;    Point begin;</div>
<div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;    Point end;</div>
<div class="line"><a name="l00053"></a><span class="lineno">   53</span>&#160;};</div>
<div class="line"><a name="l00054"></a><span class="lineno">   54</span>&#160;<span class="keyword">typedef</span> std::list&lt;LineRep&gt; LineReps;</div>
<div class="line"><a name="l00055"></a><span class="lineno">   55</span>&#160;</div>
<div class="line"><a name="l00056"></a><span class="lineno">   56</span>&#160;</div>
<div class="line"><a name="l00057"></a><span class="lineno">   57</span>&#160;<span class="keyword">typedef</span> std::list&lt;unsigned int&gt; IntList;</div>
<div class="line"><a name="l00058"></a><span class="lineno">   58</span>&#160;</div>
<div class="line"><a name="l00059"></a><span class="lineno">   59</span>&#160;<span class="keyword">class </span>ShapeRef;</div>
<div class="line"><a name="l00060"></a><span class="lineno">   60</span>&#160;<span class="keyword">class </span>JunctionRef;</div>
<div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;<span class="keyword">class </span>ClusterRef;</div>
<div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;<span class="keyword">typedef</span> std::list&lt;ClusterRef *&gt; ClusterRefList;</div>
<div class="line"><a name="l00063"></a><span class="lineno">   63</span>&#160;<span class="keyword">class </span>Obstacle;</div>
<div class="line"><a name="l00064"></a><span class="lineno">   64</span>&#160;<span class="keyword">typedef</span> std::list&lt;Obstacle *&gt; ObstacleList;</div>
<div class="line"><a name="l00065"></a><span class="lineno">   65</span>&#160;</div>
<div class="line"><a name="l00068"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#a8b398574e5b64951b7f23a36a1cdfcf4">   68</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="namespaceAvoid.html#a8b398574e5b64951b7f23a36a1cdfcf4" title="Flags that can be passed to the router during initialisation to specify options.">RouterFlag</a></div>
<div class="line"><a name="l00069"></a><span class="lineno">   69</span>&#160;{</div>
<div class="line"><a name="l00072"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#a8b398574e5b64951b7f23a36a1cdfcf4abd8248b5a3102d2b5b50c4010397de63">   72</a></span>&#160;    <a class="code" href="namespaceAvoid.html#a8b398574e5b64951b7f23a36a1cdfcf4abd8248b5a3102d2b5b50c4010397de63" title="This option specifies that the router should maintain the structures necessary to allow poly-line con...">PolyLineRouting</a> = 1,</div>
<div class="line"><a name="l00075"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#a8b398574e5b64951b7f23a36a1cdfcf4a4b104d4d6ef8bcf22994808b936e83ff">   75</a></span>&#160;    <a class="code" href="namespaceAvoid.html#a8b398574e5b64951b7f23a36a1cdfcf4a4b104d4d6ef8bcf22994808b936e83ff" title="This option specifies that the router should maintain the structures necessary to allow orthogonal co...">OrthogonalRouting</a> = 2</div>
<div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;};</div>
<div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;</div>
<div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div>
<div class="line"><a name="l00079"></a><span class="lineno">   79</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> runningTo = 1;</div>
<div class="line"><a name="l00080"></a><span class="lineno">   80</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> runningFrom = 2;</div>
<div class="line"><a name="l00081"></a><span class="lineno">   81</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> runningToAndFrom = runningTo | runningFrom;</div>
<div class="line"><a name="l00082"></a><span class="lineno">   82</span>&#160;</div>
<div class="line"><a name="l00086"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19">   86</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19" title="Types of routing parameters and penalties that can be used to tailor the style and improve the qualit...">RoutingParameter</a></div>
<div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;{</div>
<div class="line"><a name="l00095"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19ad518475ff7cdd46b69468ae09560c9f6">   95</a></span>&#160;    <a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19ad518475ff7cdd46b69468ae09560c9f6" title="This penalty is applied for each segment in the connector path beyond the first. This should always n...">segmentPenalty</a> = 0,</div>
<div class="line"><a name="l00103"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19a9419cfef2c9150715e52de573580ce5e">  103</a></span>&#160;    <a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19a9419cfef2c9150715e52de573580ce5e" title="This penalty is applied in its full amount to tight acute bends in the connector path. A smaller portion of the penalty is applied for slight bends, i.e., where the bend is close to 180 degrees. This is useful for polyline routing where there is some evidence that tighter corners are worse for readability, but that slight bends might not be so bad, especially when smoothed by curves.">anglePenalty</a>,</div>
<div class="line"><a name="l00110"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19a1441b8b9a3aaa75e5b9116a54c1d654b">  110</a></span>&#160;    <a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19a1441b8b9a3aaa75e5b9116a54c1d654b" title="This penalty is applied whenever a connector path crosses another connector path. It takes shared pat...">crossingPenalty</a>,</div>
<div class="line"><a name="l00118"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19a310f9eb2c2d36b367ade5bd9284090c0">  118</a></span>&#160;    <a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19a310f9eb2c2d36b367ade5bd9284090c0" title="This penalty is applied whenever a connector path crosses a cluster boundary.">clusterCrossingPenalty</a>,</div>
<div class="line"><a name="l00125"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19a586e41e5033600acebea92d51af69871">  125</a></span>&#160;    <a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19a586e41e5033600acebea92d51af69871" title="This penalty is applied whenever a connector path shares some segments with an immovable portion of a...">fixedSharedPathPenalty</a>,</div>
<div class="line"><a name="l00135"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19a4b063b8410394390341c5d5866091202">  135</a></span>&#160;    <a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19a4b063b8410394390341c5d5866091202" title="This penalty is applied to port selection choice when the other end of the connector being routed doe...">portDirectionPenalty</a>,</div>
<div class="line"><a name="l00141"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19adb1bf659e4e53b830554ff43ee5dd7f2">  141</a></span>&#160;    <a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19adb1bf659e4e53b830554ff43ee5dd7f2" title="This parameter defines the spacing distance that will be added to the sides of each shape when determ...">shapeBufferDistance</a>,</div>
<div class="line"><a name="l00145"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19aefdad4d50aa10139e27c4ea73f31b2a4">  145</a></span>&#160;    <a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19aefdad4d50aa10139e27c4ea73f31b2a4" title="This parameter defines the spacing distance that will be used for nudging apart overlapping corners a...">idealNudgingDistance</a>,</div>
<div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;</div>
<div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    <span class="comment">// Used for determining the size of the routing parameter array.</span></div>
<div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    <span class="comment">// This should always we the last value in the enum.</span></div>
<div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    lastRoutingParameterMarker</div>
<div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;};</div>
<div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;</div>
<div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;<span class="comment">// Backwards compatibility</span></div>
<div class="line"><a name="l00153"></a><span class="lineno">  153</span>&#160;<span class="keyword">typedef</span> <span class="keyword">enum</span> <a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19" title="Types of routing parameters and penalties that can be used to tailor the style and improve the qualit...">RoutingParameter</a> PenaltyType;</div>
<div class="line"><a name="l00154"></a><span class="lineno">  154</span>&#160;</div>
<div class="line"><a name="l00155"></a><span class="lineno">  155</span>&#160;</div>
<div class="line"><a name="l00157"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#abc707ccbd6a0a7c29c124162c864ca05">  157</a></span>&#160;<span class="keyword">enum</span> <a class="code" href="namespaceAvoid.html#abc707ccbd6a0a7c29c124162c864ca05" title="Types of routing options that can be enabled.">RoutingOption</a></div>
<div class="line"><a name="l00158"></a><span class="lineno">  158</span>&#160;{</div>
<div class="line"><a name="l00167"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#abc707ccbd6a0a7c29c124162c864ca05af7be85399d751dd52483038192cfaba2">  167</a></span>&#160;    <a class="code" href="namespaceAvoid.html#abc707ccbd6a0a7c29c124162c864ca05af7be85399d751dd52483038192cfaba2" title="This option causes the final segments of connectors, which are attached to shapes, to be nudged apart. Usually these segments are fixed, since they are considered to be attached to ports. This option is not set by default.">nudgeOrthogonalSegmentsConnectedToShapes</a> = 0,</div>
<div class="line"><a name="l00172"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#abc707ccbd6a0a7c29c124162c864ca05a8133196457c90f8beb426355d72dbb51">  172</a></span>&#160;    <a class="code" href="namespaceAvoid.html#abc707ccbd6a0a7c29c124162c864ca05a8133196457c90f8beb426355d72dbb51" title="This option causes hyperedge routes to be locally improved fixing obviously bad paths. As part of this process libavoid will effectively move junctions, setting new ideal positions ( JunctionRef::recommendedPosition() ) for each junction.">improveHyperedgeRoutesMovingJunctions</a>,</div>
<div class="line"><a name="l00183"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#abc707ccbd6a0a7c29c124162c864ca05ad4f62b81f47664a07a8e9157ea172b8d">  183</a></span>&#160;    <a class="code" href="namespaceAvoid.html#abc707ccbd6a0a7c29c124162c864ca05ad4f62b81f47664a07a8e9157ea172b8d" title="This option penalises and attempts to reroute orthogonal shared connector paths terminating at a comm...">penaliseOrthogonalSharedPathsAtConnEnds</a>,</div>
<div class="line"><a name="l00190"></a><span class="lineno"><a class="code" href="namespaceAvoid.html#abc707ccbd6a0a7c29c124162c864ca05ab661599396825a766e97d19282e5f8dc">  190</a></span>&#160;    <a class="code" href="namespaceAvoid.html#abc707ccbd6a0a7c29c124162c864ca05ab661599396825a766e97d19282e5f8dc" title="This option can be used to control whether colinear line segments that touch just at their ends will ...">nudgeOrthogonalTouchingColinearSegments</a>,</div>
<div class="line"><a name="l00191"></a><span class="lineno">  191</span>&#160;    </div>
<div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <span class="comment">// Used for determining the size of the routing options array.</span></div>
<div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="comment">// This should always we the last value in the enum.</span></div>
<div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;    lastRoutingOptionMarker</div>
<div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;};</div>
<div class="line"><a name="l00196"></a><span class="lineno">  196</span>&#160;</div>
<div class="line"><a name="l00197"></a><span class="lineno">  197</span>&#160;</div>
<div class="line"><a name="l00198"></a><span class="lineno">  198</span>&#160;<span class="comment">// NOTE: This is an internal helper class that should not be used by the user.</span></div>
<div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;<span class="comment">// This class allows edges in the visibility graph to store a</span></div>
<div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="comment">// pointer to a boolean registering when a connector needs to</span></div>
<div class="line"><a name="l00202"></a><span class="lineno">  202</span>&#160;<span class="comment">// reroute, while allowing connectors to be deleted without</span></div>
<div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;<span class="comment">// needing to scan and remove these references from the visibility</span></div>
<div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;<span class="comment">// graph.  Instead the bool is stored in this delegate and the</span></div>
<div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;<span class="comment">// connector is alerted later, so long as it hasn&#39;t since been</span></div>
<div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;<span class="comment">// deleted.</span></div>
<div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;<span class="keyword">class </span>ConnRerouteFlagDelegate {</div>
<div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;        ConnRerouteFlagDelegate();</div>
<div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;        ~ConnRerouteFlagDelegate();</div>
<div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;        <span class="keywordtype">bool</span> *addConn(ConnRef *conn);</div>
<div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;        <span class="keywordtype">void</span> removeConn(ConnRef *conn);</div>
<div class="line"><a name="l00213"></a><span class="lineno">  213</span>&#160;        <span class="keywordtype">void</span> alertConns(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00214"></a><span class="lineno">  214</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00215"></a><span class="lineno">  215</span>&#160;        std::list&lt;std::pair&lt;ConnRef *, bool&gt; &gt; m_mapping;</div>
<div class="line"><a name="l00216"></a><span class="lineno">  216</span>&#160;};</div>
<div class="line"><a name="l00217"></a><span class="lineno">  217</span>&#160;</div>
<div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> zeroParamValue = 0;</div>
<div class="line"><a name="l00219"></a><span class="lineno">  219</span>&#160;<span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">double</span> chooseSensibleParamValue = -1;</div>
<div class="line"><a name="l00220"></a><span class="lineno">  220</span>&#160;</div>
<div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;<span class="comment">// NOTE: This is an internal helper class that should not be used by the user.</span></div>
<div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;<span class="comment">// It is used by libtopology to add additional functionality to libavoid</span></div>
<div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;<span class="comment">// while keeping libavoid dependency free.</span></div>
<div class="line"><a name="l00225"></a><span class="lineno">  225</span>&#160;<span class="keyword">class </span>TopologyAddonInterface</div>
<div class="line"><a name="l00226"></a><span class="lineno">  226</span>&#160;{</div>
<div class="line"><a name="l00227"></a><span class="lineno">  227</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;        TopologyAddonInterface()</div>
<div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;        {</div>
<div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;        }</div>
<div class="line"><a name="l00231"></a><span class="lineno">  231</span>&#160;        <span class="keyword">virtual</span> ~TopologyAddonInterface()</div>
<div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;        {</div>
<div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;        }</div>
<div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;        <span class="keyword">virtual</span> TopologyAddonInterface *clone(<span class="keywordtype">void</span>)<span class="keyword"> const</span></div>
<div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;<span class="keyword">        </span>{</div>
<div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">new</span> TopologyAddonInterface(*<span class="keyword">this</span>);</div>
<div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;        }</div>
<div class="line"><a name="l00238"></a><span class="lineno">  238</span>&#160;</div>
<div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">void</span> improveOrthogonalTopology(Router *router)</div>
<div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;        {</div>
<div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;            (void)(router);  <span class="comment">// Avoid unused parameter warning.</span></div>
<div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;        }</div>
<div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> outputCode(FILE *fp)<span class="keyword"> const</span></div>
<div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;<span class="keyword">        </span>{</div>
<div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;            (void)(fp);  <span class="comment">// Avoid unused parameter warning.</span></div>
<div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;        }</div>
<div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">bool</span> outputDeletionCode(FILE *fp)<span class="keyword"> const</span></div>
<div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;<span class="keyword">        </span>{</div>
<div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;            (void)(fp);  <span class="comment">// Avoid unused parameter warning.</span></div>
<div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;            <span class="keywordflow">return</span> <span class="keyword">false</span>;</div>
<div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;        }</div>
<div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;};</div>
<div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;</div>
<div class="line"><a name="l00255"></a><span class="lineno">  255</span>&#160;</div>
<div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;<span class="comment">//</span></div>
<div class="line"><a name="l00261"></a><span class="lineno"><a class="code" href="classAvoid_1_1Router.html">  261</a></span>&#160;<span class="keyword">class </span>AVOID_EXPORT <a class="code" href="classAvoid_1_1Router.html" title="The Router class represents a libavoid router instance.">Router</a> {</div>
<div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;    <span class="keyword">public</span>:</div>
<div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;        <a class="code" href="classAvoid_1_1Router.html" title="The Router class represents a libavoid router instance.">Router</a>(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> flags);</div>
<div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;</div>
<div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;        <span class="keyword">virtual</span> ~<a class="code" href="classAvoid_1_1Router.html" title="The Router class represents a libavoid router instance.">Router</a>();</div>
<div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;</div>
<div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;        ObstacleList m_obstacles;</div>
<div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;        ConnRefList connRefs;</div>
<div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;        ClusterRefList clusterRefs;</div>
<div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;        EdgeList visGraph;</div>
<div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;        EdgeList invisGraph;</div>
<div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;        EdgeList visOrthogGraph;</div>
<div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;        ContainsMap contains;</div>
<div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;        VertInfList vertices;</div>
<div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;        ContainsMap enclosingClusters;</div>
<div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;        </div>
<div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;        <span class="keywordtype">bool</span> PartialTime;</div>
<div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <span class="keywordtype">bool</span> SimpleRouting;</div>
<div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;        <span class="keywordtype">bool</span> ClusteredRouting;</div>
<div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;</div>
<div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;        <span class="comment">// Poly-line routing options:</span></div>
<div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <span class="keywordtype">bool</span> IgnoreRegions;</div>
<div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordtype">bool</span> UseLeesAlgorithm;</div>
<div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        <span class="keywordtype">bool</span> InvisibilityGrph;</div>
<div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;       </div>
<div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;        <span class="comment">// General routing options:</span></div>
<div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;        <span class="keywordtype">bool</span> SelectiveReroute;</div>
<div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;        </div>
<div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <span class="keywordtype">bool</span> PartialFeedback;</div>
<div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        <span class="keywordtype">bool</span> RubberBandRouting;</div>
<div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;        </div>
<div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;</div>
<div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        <span class="comment">// Instrumentation:</span></div>
<div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        Timer timers;</div>
<div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        <span class="keywordtype">int</span> st_checked_edges;</div>
<div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;</div>
<div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        <span class="keywordtype">void</span> setTransactionUse(<span class="keyword">const</span> <span class="keywordtype">bool</span> transactions);</div>
<div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;</div>
<div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;        <span class="keywordtype">bool</span> transactionUse(<span class="keywordtype">void</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00336"></a><span class="lineno">  336</span>&#160;</div>
<div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;        <span class="keywordtype">bool</span> processTransaction(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;</div>
<div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;        <span class="keywordtype">void</span> deleteShape(<a class="code" href="classAvoid_1_1ShapeRef.html" title="The ShapeRef class represents a shape object.">ShapeRef</a> *shape);</div>
<div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div>
<div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;        <span class="keywordtype">void</span> moveShape(<a class="code" href="classAvoid_1_1ShapeRef.html" title="The ShapeRef class represents a shape object.">ShapeRef</a> *shape, <span class="keyword">const</span> <a class="code" href="classAvoid_1_1Polygon.html" title="A dynamic Polygon, to which points can be easily added and removed.">Polygon</a>&amp; newPoly,</div>
<div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">bool</span> first_move = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;</div>
<div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;        <span class="keywordtype">void</span> moveShape(<a class="code" href="classAvoid_1_1ShapeRef.html" title="The ShapeRef class represents a shape object.">ShapeRef</a> *shape, <span class="keyword">const</span> <span class="keywordtype">double</span> xDiff, <span class="keyword">const</span> <span class="keywordtype">double</span> yDiff);</div>
<div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;</div>
<div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;        <span class="keywordtype">void</span> deleteJunction(<a class="code" href="classAvoid_1_1JunctionRef.html" title="The JunctionRef class represents a fixed or free-floating point that connectors can be attached to...">JunctionRef</a> *junction);</div>
<div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;        </div>
<div class="line"><a name="l00436"></a><span class="lineno">  436</span>&#160;        <span class="keywordtype">void</span> deleteConnector(<a class="code" href="classAvoid_1_1ConnRef.html" title="The ConnRef class represents a connector object.">ConnRef</a> *connector);</div>
<div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;</div>
<div class="line"><a name="l00451"></a><span class="lineno">  451</span>&#160;        <span class="keywordtype">void</span> moveJunction(<a class="code" href="classAvoid_1_1JunctionRef.html" title="The JunctionRef class represents a fixed or free-floating point that connectors can be attached to...">JunctionRef</a> *junction, <span class="keyword">const</span> <a class="code" href="classAvoid_1_1Point.html" title="The Point class defines a point in the plane.">Point</a>&amp; newPosition);</div>
<div class="line"><a name="l00452"></a><span class="lineno">  452</span>&#160;</div>
<div class="line"><a name="l00470"></a><span class="lineno">  470</span>&#160;        <span class="keywordtype">void</span> moveJunction(<a class="code" href="classAvoid_1_1JunctionRef.html" title="The JunctionRef class represents a fixed or free-floating point that connectors can be attached to...">JunctionRef</a> *junction, <span class="keyword">const</span> <span class="keywordtype">double</span> xDiff, </div>
<div class="line"><a name="l00471"></a><span class="lineno">  471</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">double</span> yDiff);</div>
<div class="line"><a name="l00472"></a><span class="lineno">  472</span>&#160;        </div>
<div class="line"><a name="l00499"></a><span class="lineno">  499</span>&#160;        <span class="keywordtype">void</span> setRoutingParameter(<span class="keyword">const</span> <a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19" title="Types of routing parameters and penalties that can be used to tailor the style and improve the qualit...">RoutingParameter</a> parameter, </div>
<div class="line"><a name="l00500"></a><span class="lineno">  500</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">double</span> value = chooseSensibleParamValue);</div>
<div class="line"><a name="l00501"></a><span class="lineno">  501</span>&#160;</div>
<div class="line"><a name="l00508"></a><span class="lineno">  508</span>&#160;        <span class="keywordtype">double</span> routingParameter(<span class="keyword">const</span> <a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19" title="Types of routing parameters and penalties that can be used to tailor the style and improve the qualit...">RoutingParameter</a> parameter) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00509"></a><span class="lineno">  509</span>&#160;</div>
<div class="line"><a name="l00515"></a><span class="lineno">  515</span>&#160;        <span class="keywordtype">void</span> setRoutingOption(<span class="keyword">const</span> <a class="code" href="namespaceAvoid.html#abc707ccbd6a0a7c29c124162c864ca05" title="Types of routing options that can be enabled.">RoutingOption</a> option, <span class="keyword">const</span> <span class="keywordtype">bool</span> value);</div>
<div class="line"><a name="l00516"></a><span class="lineno">  516</span>&#160;</div>
<div class="line"><a name="l00522"></a><span class="lineno">  522</span>&#160;        <span class="keywordtype">bool</span> routingOption(<span class="keyword">const</span> <a class="code" href="namespaceAvoid.html#abc707ccbd6a0a7c29c124162c864ca05" title="Types of routing options that can be enabled.">RoutingOption</a> option) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00523"></a><span class="lineno">  523</span>&#160;</div>
<div class="line"><a name="l00528"></a><span class="lineno">  528</span>&#160;        <span class="comment">//          method.  See its documentation for more details.</span></div>
<div class="line"><a name="l00534"></a><span class="lineno">  534</span>&#160;<span class="comment"></span>        <span class="keywordtype">void</span> setRoutingPenalty(<span class="keyword">const</span> <a class="code" href="namespaceAvoid.html#a8a0154ae39129e7737d98e5a83daed19" title="Types of routing parameters and penalties that can be used to tailor the style and improve the qualit...">RoutingParameter</a> penType, </div>
<div class="line"><a name="l00535"></a><span class="lineno">  535</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">double</span> penVal = chooseSensibleParamValue);</div>
<div class="line"><a name="l00536"></a><span class="lineno">  536</span>&#160;</div>
<div class="line"><a name="l00542"></a><span class="lineno">  542</span>&#160;        <a class="code" href="classAvoid_1_1HyperedgeRerouter.html" title="The HyperedgeRerouter class is a convenience object that can be used to register hyperedges to be rer...">HyperedgeRerouter</a> *hyperedgeRerouter(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00543"></a><span class="lineno">  543</span>&#160;</div>
<div class="line"><a name="l00554"></a><span class="lineno">  554</span>&#160;        <span class="keywordtype">void</span> outputInstanceToSVG(std::string filename = std::string());</div>
<div class="line"><a name="l00555"></a><span class="lineno">  555</span>&#160;</div>
<div class="line"><a name="l00566"></a><span class="lineno">  566</span>&#160;        <span class="keyword">virtual</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> newObjectId(<span class="keywordtype">void</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00567"></a><span class="lineno">  567</span>&#160;</div>
<div class="line"><a name="l00575"></a><span class="lineno">  575</span>&#160;        <span class="keywordtype">bool</span> objectIdIsUnused(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> <span class="keywordtype">id</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00576"></a><span class="lineno">  576</span>&#160;        </div>
<div class="line"><a name="l00596"></a><span class="lineno">  596</span>&#160;        <span class="keywordtype">void</span> setSlowRoutingCallback(<span class="keywordtype">bool</span> (*func)(<span class="keywordtype">unsigned</span> <span class="keywordtype">int</span>, <span class="keywordtype">double</span>));</div>
<div class="line"><a name="l00597"></a><span class="lineno">  597</span>&#160;</div>
<div class="line"><a name="l00598"></a><span class="lineno">  598</span>&#160;        <span class="comment">// Processes the actions list for the transaction.  You shouldn&#39;t</span></div>
<div class="line"><a name="l00599"></a><span class="lineno">  599</span>&#160;        <span class="comment">// need to cal this.  Instead use processTransaction().</span></div>
<div class="line"><a name="l00600"></a><span class="lineno">  600</span>&#160;        <span class="keywordtype">void</span> processActions(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00601"></a><span class="lineno">  601</span>&#160;        </div>
<div class="line"><a name="l00602"></a><span class="lineno">  602</span>&#160;        <span class="keywordtype">void</span> deleteCluster(<a class="code" href="classAvoid_1_1ClusterRef.html" title="The ClusterRef class represents a cluster object.">ClusterRef</a> *cluster);</div>
<div class="line"><a name="l00603"></a><span class="lineno">  603</span>&#160;        <span class="keywordtype">void</span> attachedShapes(IntList &amp;shapes, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> shapeId,</div>
<div class="line"><a name="l00604"></a><span class="lineno">  604</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type);</div>
<div class="line"><a name="l00605"></a><span class="lineno">  605</span>&#160;        <span class="keywordtype">void</span> attachedConns(IntList &amp;conns, <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> shapeId,</div>
<div class="line"><a name="l00606"></a><span class="lineno">  606</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type);</div>
<div class="line"><a name="l00607"></a><span class="lineno">  607</span>&#160;        <span class="keywordtype">void</span> markConnectors(Obstacle *obstacle);</div>
<div class="line"><a name="l00608"></a><span class="lineno">  608</span>&#160;        <span class="keywordtype">void</span> generateContains(VertInf *pt);</div>
<div class="line"><a name="l00609"></a><span class="lineno">  609</span>&#160;        <span class="keywordtype">void</span> printInfo(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00610"></a><span class="lineno">  610</span>&#160;        <span class="keywordtype">void</span> regenerateStaticBuiltGraph(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00611"></a><span class="lineno">  611</span>&#160;        <span class="keywordtype">void</span> destroyOrthogonalVisGraph(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00612"></a><span class="lineno">  612</span>&#160;        <span class="keywordtype">void</span> setStaticGraphInvalidated(<span class="keyword">const</span> <span class="keywordtype">bool</span> invalidated);</div>
<div class="line"><a name="l00613"></a><span class="lineno">  613</span>&#160;        <a class="code" href="namespaceAvoid.html#a2dc870f7d17f81f6833e3bb8e77762c2" title="Describes the type of routing that is performed for each connector.">ConnType</a> validConnType(<span class="keyword">const</span> <a class="code" href="namespaceAvoid.html#a2dc870f7d17f81f6833e3bb8e77762c2" title="Describes the type of routing that is performed for each connector.">ConnType</a> select = ConnType_None) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00614"></a><span class="lineno">  614</span>&#160;        <span class="keywordtype">bool</span> isInCrossingPenaltyReroutingStage(<span class="keywordtype">void</span>) <span class="keyword">const</span>;</div>
<div class="line"><a name="l00615"></a><span class="lineno">  615</span>&#160;        <span class="keywordtype">void</span> markAllObstaclesAsMoved(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00616"></a><span class="lineno">  616</span>&#160;</div>
<div class="line"><a name="l00624"></a><span class="lineno">  624</span>&#160;        <span class="keywordtype">void</span> setTopologyAddon(TopologyAddonInterface *topologyAddon);</div>
<div class="line"><a name="l00625"></a><span class="lineno">  625</span>&#160;        <span class="keywordtype">void</span> improveOrthogonalTopology(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00626"></a><span class="lineno">  626</span>&#160;</div>
<div class="line"><a name="l00627"></a><span class="lineno">  627</span>&#160;        <span class="comment">// Testing and debugging methods.</span></div>
<div class="line"><a name="l00628"></a><span class="lineno">  628</span>&#160;        <span class="keywordtype">bool</span> existsOrthogonalPathOverlap(<span class="keyword">const</span> <span class="keywordtype">bool</span> atEnds = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00629"></a><span class="lineno">  629</span>&#160;        <span class="keywordtype">bool</span> existsOrthogonalTouchingPaths(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00630"></a><span class="lineno">  630</span>&#160;        <span class="keywordtype">int</span>  existsCrossings(<span class="keyword">const</span> <span class="keywordtype">bool</span> optimisedForConnectorType = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00631"></a><span class="lineno">  631</span>&#160;        <span class="keywordtype">bool</span> existsInvalidOrthogonalPaths(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00632"></a><span class="lineno">  632</span>&#160;</div>
<div class="line"><a name="l00633"></a><span class="lineno">  633</span>&#160;        <span class="comment">// Outputs the current diagram.  Used for visualising individual</span></div>
<div class="line"><a name="l00634"></a><span class="lineno">  634</span>&#160;        <span class="comment">// steps of various algorithms.  lineReps can be used to draw </span></div>
<div class="line"><a name="l00635"></a><span class="lineno">  635</span>&#160;        <span class="comment">// attention to specific parts of the diagram that have changed</span></div>
<div class="line"><a name="l00636"></a><span class="lineno">  636</span>&#160;        <span class="comment">// between steps.</span></div>
<div class="line"><a name="l00637"></a><span class="lineno">  637</span>&#160;        <span class="keywordtype">void</span> outputDiagramSVG(std::string instanceName, </div>
<div class="line"><a name="l00638"></a><span class="lineno">  638</span>&#160;                LineReps *lineReps = NULL);</div>
<div class="line"><a name="l00639"></a><span class="lineno">  639</span>&#160;</div>
<div class="line"><a name="l00640"></a><span class="lineno">  640</span>&#160;    <span class="keyword">private</span>:</div>
<div class="line"><a name="l00641"></a><span class="lineno">  641</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classAvoid_1_1ShapeRef.html" title="The ShapeRef class represents a shape object.">ShapeRef</a>;</div>
<div class="line"><a name="l00642"></a><span class="lineno">  642</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classAvoid_1_1ConnRef.html" title="The ConnRef class represents a connector object.">ConnRef</a>;</div>
<div class="line"><a name="l00643"></a><span class="lineno">  643</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classAvoid_1_1JunctionRef.html" title="The JunctionRef class represents a fixed or free-floating point that connectors can be attached to...">JunctionRef</a>;</div>
<div class="line"><a name="l00644"></a><span class="lineno">  644</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span>Obstacle;</div>
<div class="line"><a name="l00645"></a><span class="lineno">  645</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classAvoid_1_1ClusterRef.html" title="The ClusterRef class represents a cluster object.">ClusterRef</a>;</div>
<div class="line"><a name="l00646"></a><span class="lineno">  646</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classAvoid_1_1ShapeConnectionPin.html" title="The ShapeConnectionPin class represents a fixed point or &quot;pin&quot; on a shape that can be connected to...">ShapeConnectionPin</a>;</div>
<div class="line"><a name="l00647"></a><span class="lineno">  647</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span>MinimumTerminalSpanningTree;</div>
<div class="line"><a name="l00648"></a><span class="lineno">  648</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classAvoid_1_1ConnEnd.html" title="The ConnEnd class represents different possible endpoints for connectors.">ConnEnd</a>;</div>
<div class="line"><a name="l00649"></a><span class="lineno">  649</span>&#160;        <span class="keyword">friend</span> <span class="keyword">struct </span>HyperEdgeTreeNode;</div>
<div class="line"><a name="l00650"></a><span class="lineno">  650</span>&#160;        <span class="keyword">friend</span> <span class="keyword">class </span><a class="code" href="classAvoid_1_1HyperedgeRerouter.html" title="The HyperedgeRerouter class is a convenience object that can be used to register hyperedges to be rer...">HyperedgeRerouter</a>;</div>
<div class="line"><a name="l00651"></a><span class="lineno">  651</span>&#160;</div>
<div class="line"><a name="l00652"></a><span class="lineno">  652</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> assignId(<span class="keyword">const</span> <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> suggestedId);</div>
<div class="line"><a name="l00653"></a><span class="lineno">  653</span>&#160;        <span class="keywordtype">void</span> addShape(<a class="code" href="classAvoid_1_1ShapeRef.html" title="The ShapeRef class represents a shape object.">ShapeRef</a> *shape);</div>
<div class="line"><a name="l00654"></a><span class="lineno">  654</span>&#160;        <span class="keywordtype">void</span> addJunction(<a class="code" href="classAvoid_1_1JunctionRef.html" title="The JunctionRef class represents a fixed or free-floating point that connectors can be attached to...">JunctionRef</a> *junction);</div>
<div class="line"><a name="l00655"></a><span class="lineno">  655</span>&#160;        <span class="keywordtype">void</span> addCluster(<a class="code" href="classAvoid_1_1ClusterRef.html" title="The ClusterRef class represents a cluster object.">ClusterRef</a> *cluster);</div>
<div class="line"><a name="l00656"></a><span class="lineno">  656</span>&#160;        <span class="keywordtype">void</span> modifyConnector(<a class="code" href="classAvoid_1_1ConnRef.html" title="The ConnRef class represents a connector object.">ConnRef</a> *conn);</div>
<div class="line"><a name="l00657"></a><span class="lineno">  657</span>&#160;        <span class="keywordtype">void</span> modifyConnector(<a class="code" href="classAvoid_1_1ConnRef.html" title="The ConnRef class represents a connector object.">ConnRef</a> *conn, <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> type,</div>
<div class="line"><a name="l00658"></a><span class="lineno">  658</span>&#160;                <span class="keyword">const</span> <a class="code" href="classAvoid_1_1ConnEnd.html" title="The ConnEnd class represents different possible endpoints for connectors.">ConnEnd</a> &amp;connEnd, <span class="keywordtype">bool</span> connPinUpdate = <span class="keyword">false</span>);</div>
<div class="line"><a name="l00659"></a><span class="lineno">  659</span>&#160;        <span class="keywordtype">void</span> modifyConnectionPin(<a class="code" href="classAvoid_1_1ShapeConnectionPin.html" title="The ShapeConnectionPin class represents a fixed point or &quot;pin&quot; on a shape that can be connected to...">ShapeConnectionPin</a> *pin);</div>
<div class="line"><a name="l00660"></a><span class="lineno">  660</span>&#160;</div>
<div class="line"><a name="l00661"></a><span class="lineno">  661</span>&#160;        <span class="keywordtype">void</span> removeObjectFromQueuedActions(<span class="keyword">const</span> <span class="keywordtype">void</span> *<span class="keywordtype">object</span>);</div>
<div class="line"><a name="l00662"></a><span class="lineno">  662</span>&#160;        <span class="keywordtype">void</span> newBlockingShape(<span class="keyword">const</span> <a class="code" href="classAvoid_1_1Polygon.html" title="A dynamic Polygon, to which points can be easily added and removed.">Polygon</a>&amp; poly, <span class="keywordtype">int</span> pid);</div>
<div class="line"><a name="l00663"></a><span class="lineno">  663</span>&#160;        <span class="keywordtype">void</span> checkAllBlockedEdges(<span class="keywordtype">int</span> pid);</div>
<div class="line"><a name="l00664"></a><span class="lineno">  664</span>&#160;        <span class="keywordtype">void</span> checkAllMissingEdges(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00665"></a><span class="lineno">  665</span>&#160;        <span class="keywordtype">void</span> adjustContainsWithAdd(<span class="keyword">const</span> <a class="code" href="classAvoid_1_1Polygon.html" title="A dynamic Polygon, to which points can be easily added and removed.">Polygon</a>&amp; poly, <span class="keyword">const</span> <span class="keywordtype">int</span> p_shape);</div>
<div class="line"><a name="l00666"></a><span class="lineno">  666</span>&#160;        <span class="keywordtype">void</span> adjustContainsWithDel(<span class="keyword">const</span> <span class="keywordtype">int</span> p_shape);</div>
<div class="line"><a name="l00667"></a><span class="lineno">  667</span>&#160;        <span class="keywordtype">void</span> adjustClustersWithAdd(<span class="keyword">const</span> <a class="code" href="classAvoid_1_1PolygonInterface.html" title="A common interface used by the Polygon classes.">PolygonInterface</a>&amp; poly, </div>
<div class="line"><a name="l00668"></a><span class="lineno">  668</span>&#160;                <span class="keyword">const</span> <span class="keywordtype">int</span> p_cluster);</div>
<div class="line"><a name="l00669"></a><span class="lineno">  669</span>&#160;        <span class="keywordtype">void</span> adjustClustersWithDel(<span class="keyword">const</span> <span class="keywordtype">int</span> p_cluster);</div>
<div class="line"><a name="l00670"></a><span class="lineno">  670</span>&#160;        <span class="keywordtype">void</span> rerouteAndCallbackConnectors(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00671"></a><span class="lineno">  671</span>&#160;        <span class="keywordtype">void</span> improveCrossings(<span class="keywordtype">void</span>);</div>
<div class="line"><a name="l00672"></a><span class="lineno">  672</span>&#160;        <span class="keywordtype">void</span> performSlowRoutingCallBack(<span class="keywordtype">double</span> completeFraction);</div>
<div class="line"><a name="l00673"></a><span class="lineno">  673</span>&#160;</div>
<div class="line"><a name="l00674"></a><span class="lineno">  674</span>&#160;        ActionInfoList actionList;</div>
<div class="line"><a name="l00675"></a><span class="lineno">  675</span>&#160;        <span class="keywordtype">unsigned</span> <span class="keywordtype">int</span> m_largest_assigned_id;</div>
<div class="line"><a name="l00676"></a><span class="lineno">  676</span>&#160;        <span class="keywordtype">bool</span> m_consolidate_actions;</div>
<div class="line"><a name="l00677"></a><span class="lineno">  677</span>&#160;        <span class="keywordtype">bool</span> m_currently_calling_destructors;</div>
<div class="line"><a name="l00678"></a><span class="lineno">  678</span>&#160;        <span class="keywordtype">double</span> m_routing_parameters[lastRoutingParameterMarker];</div>
<div class="line"><a name="l00679"></a><span class="lineno">  679</span>&#160;        <span class="keywordtype">bool</span> m_routing_options[lastRoutingOptionMarker];</div>
<div class="line"><a name="l00680"></a><span class="lineno">  680</span>&#160;        </div>
<div class="line"><a name="l00681"></a><span class="lineno">  681</span>&#160;        ConnRerouteFlagDelegate m_conn_reroute_flags;</div>
<div class="line"><a name="l00682"></a><span class="lineno">  682</span>&#160;        <a class="code" href="classAvoid_1_1HyperedgeRerouter.html" title="The HyperedgeRerouter class is a convenience object that can be used to register hyperedges to be rer...">HyperedgeRerouter</a> m_hyperedge_rerouter;</div>
<div class="line"><a name="l00683"></a><span class="lineno">  683</span>&#160;        </div>
<div class="line"><a name="l00684"></a><span class="lineno">  684</span>&#160;        <span class="comment">// Slow-routing callback member variables. </span></div>
<div class="line"><a name="l00685"></a><span class="lineno">  685</span>&#160;        bool (*m_slow_routing_callback)(<span class="keywordtype">unsigned</span> int, double);</div>
<div class="line"><a name="l00686"></a><span class="lineno">  686</span>&#160;        clock_t m_transaction_start_time;</div>
<div class="line"><a name="l00687"></a><span class="lineno">  687</span>&#160;        <span class="keywordtype">bool</span> m_abort_transaction;</div>
<div class="line"><a name="l00688"></a><span class="lineno">  688</span>&#160;        </div>
<div class="line"><a name="l00689"></a><span class="lineno">  689</span>&#160;        TopologyAddonInterface *m_topology_addon;</div>
<div class="line"><a name="l00690"></a><span class="lineno">  690</span>&#160;</div>
<div class="line"><a name="l00691"></a><span class="lineno">  691</span>&#160;        <span class="comment">// Overall modes:</span></div>
<div class="line"><a name="l00692"></a><span class="lineno">  692</span>&#160;        <span class="keywordtype">bool</span> m_allows_polyline_routing;</div>
<div class="line"><a name="l00693"></a><span class="lineno">  693</span>&#160;        <span class="keywordtype">bool</span> m_allows_orthogonal_routing;</div>
<div class="line"><a name="l00694"></a><span class="lineno">  694</span>&#160;        </div>
<div class="line"><a name="l00695"></a><span class="lineno">  695</span>&#160;        <span class="keywordtype">bool</span> m_static_orthogonal_graph_invalidated;</div>
<div class="line"><a name="l00696"></a><span class="lineno">  696</span>&#160;        <span class="keywordtype">bool</span> m_in_crossing_rerouting_stage;</div>
<div class="line"><a name="l00697"></a><span class="lineno">  697</span>&#160;};</div>
<div class="line"><a name="l00698"></a><span class="lineno">  698</span>&#160;</div>
<div class="line"><a name="l00699"></a><span class="lineno">  699</span>&#160;</div>
<div class="line"><a name="l00700"></a><span class="lineno">  700</span>&#160;}</div>
<div class="line"><a name="l00701"></a><span class="lineno">  701</span>&#160;</div>
<div class="line"><a name="l00702"></a><span class="lineno">  702</span>&#160;</div>
<div class="line"><a name="l00703"></a><span class="lineno">  703</span>&#160;</div>
<div class="line"><a name="l00704"></a><span class="lineno">  704</span>&#160;<span class="preprocessor">#endif</span></div>
</div><!-- fragment --></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Apr 15 2013 10:42:57 for Adaptagrams by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.3.1
</small></address>
</body>
</html>
